String branchName = "master"
String gitCredentials = "jude84.kim"
String repoUrl1 = "ssh://swfarmhub.lge.com:29418/lg-cobalt-evergreen.git"
String repoUrl2 = "ssh://swfarmhub.lge.com:29418/NIP_Tools.git"

String param1 = "/var/lib/jenkins/workspace/yoseph_pipeline2/NIP_Tools/"
String param2 = "o20n"
String param3 = "webos4tv"
String param4 = "debug"
String param5 = "nplb/loader_app"

node {
  deleteDir()
  // Start Stages
  /*
  stage('Clone') {
      // Clones the repository from the current branch name
      echo 'Cloning files from (branch: "' + branchName + '" )'
      
      sh 'mkdir NIP_Tools'
      dir('NIP_Tools') {
        git branch: branchName, credentialsId: 	gitCredentials, url: repoUrl2
      }
      
      sh 'mkdir lg-cobalt-evergreen'
      dir('lg-cobalt-evergreen') {
        git branch: branchName, credentialsId: 	gitCredentials, url: repoUrl1
        sh './build.sh ../NIP_Tools/ lm21u gold'
      }
  }
  */
  stage('Build') {
    /*
    echo '======'
    sh 'pwd'
    echo '======'
    sh 'ls -al'
    dir('lg-cobalt-evergreen') {
      echo '======'
      sh 'ls -al'
    }
    */
    
    dir('lg-cobalt-evergreen') {
      //sh './build.sh /var/lib/jenkins/workspace/yoseph_pipeline2/NIP_Tools/ lm21u gold'
      sh './build.sh ${param1} ${param2} ${param3} ${param4} ${param5}'
    }
  }
}
